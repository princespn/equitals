<template>
  <div>
    <div class="app-content content">
      <div class="content-overlay"></div>
      <div class="header-navbar-shadow"></div>
      <div class="content-wrapper">
        <div class="content-header row">
          <div class="content-header-left col-md-9 col-12 mb-2">
            <div class="row breadcrumbs-top">
              <div class="col-12">
                <h2 class="content-header-title float-left mb-0">Add Fund Start </h2> 
              </div>
            </div>
          </div>
          <!-- <div class="content-header-right text-md-right col-md-3 col-12 d-md-block d-none">
            <div class="form-group breadcrum-right">
              <div class="dropdown">
                <button class="btn-icon btn btn-primary btn-round btn-sm dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="feather icon-settings"></i></button>
                <div class="dropdown-menu dropdown-menu-right"><a class="dropdown-item" href="#">Chat</a><a class="dropdown-item" href="#">Email</a><a class="dropdown-item" href="#">Calendar</a></div>
              </div>
            </div>
          </div> --></div>
        <div class="content-body package">
          <div class="row justify-content-center">
           
            <div class="col-lg-6">
              <div id="plan2" class="tariff_item tariff_bg_standard ">
              <div class="tariff_title_wrap">
                <div class="tariff_img">
                <lottie-player class="notauto" loop="" src="/assets/animation/3-1.json" speed="1" background="transparent"><!---->
      <div class="">
        <div class="animation" style="background:transparent">
          
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 132 165" width="132" height="165" preserveAspectRatio="xMidYMid meet" style="width: 100%; height: 100%; transform: translate3d(0px, 0px, 0px);"><defs><clipPath id="__lottie_element_322"><rect width="132" height="165" x="0" y="0"></rect></clipPath><linearGradient id="__lottie_element_326" spreadMethod="pad" gradientUnits="userSpaceOnUse" x1="-78" y1="71" x2="76.01399993896484" y2="70.78800201416016"><stop offset="0%" stop-color="rgb(255,255,255)" stop-opacity="0.30000001192092896"></stop><stop offset="50%" stop-color="rgb(255,255,255)" stop-opacity="0.5"></stop><stop offset="100%" stop-color="rgb(255,255,255)" stop-opacity="0.699999988079071"></stop></linearGradient><linearGradient id="__lottie_element_331" spreadMethod="pad" gradientUnits="userSpaceOnUse" x1="-42" y1="63.5" x2="20.513999938964844" y2="62.78799819946289"><stop offset="0%" stop-color="rgb(255,255,255)" stop-opacity="0.30000001192092896"></stop><stop offset="50%" stop-color="rgb(255,255,255)" stop-opacity="0.5"></stop><stop offset="100%" stop-color="rgb(255,255,255)" stop-opacity="0.699999988079071"></stop></linearGradient><linearGradient id="__lottie_element_335" spreadMethod="pad" gradientUnits="userSpaceOnUse" x1="-38.5" y1="9.5" x2="-2.4860000610351562" y2="8.288000106811523"><stop offset="0%" stop-color="rgb(255,255,255)" stop-opacity="0.30000001192092896"></stop><stop offset="50%" stop-color="rgb(255,255,255)" stop-opacity="0.5"></stop><stop offset="100%" stop-color="rgb(255,255,255)" stop-opacity="0.699999988079071"></stop></linearGradient><linearGradient id="__lottie_element_339" spreadMethod="pad" gradientUnits="userSpaceOnUse" x1="-12.5" y1="9.5" x2="11.013999938964844" y2="-11.711999893188477"><stop offset="0%" stop-color="rgb(255,255,255)" stop-opacity="0.30000001192092896"></stop><stop offset="50%" stop-color="rgb(255,255,255)" stop-opacity="0.5"></stop><stop offset="100%" stop-color="rgb(255,255,255)" stop-opacity="0.699999988079071"></stop></linearGradient><linearGradient id="__lottie_element_343" spreadMethod="pad" gradientUnits="userSpaceOnUse" x1="-47.5" y1="3.5" x2="-6.986000061035156" y2="3.7880001068115234"><stop offset="0%" stop-color="rgb(255,255,255)" stop-opacity="0.30000001192092896"></stop><stop offset="50%" stop-color="rgb(255,255,255)" stop-opacity="0.5"></stop><stop offset="100%" stop-color="rgb(255,255,255)" stop-opacity="0.699999988079071"></stop></linearGradient><linearGradient id="__lottie_element_348" spreadMethod="pad" gradientUnits="userSpaceOnUse" x1="-40.5" y1="62" x2="79.51399993896484" y2="66.28800201416016"><stop offset="0%" stop-color="rgb(255,255,255)" stop-opacity="0.30000001192092896"></stop><stop offset="50%" stop-color="rgb(255,255,255)" stop-opacity="0.5"></stop><stop offset="100%" stop-color="rgb(255,255,255)" stop-opacity="0.699999988079071"></stop></linearGradient><linearGradient id="__lottie_element_352" spreadMethod="pad" gradientUnits="userSpaceOnUse" x1="-12" y1="-61" x2="42.513999938964844" y2="-60.21200180053711"><stop offset="0%" stop-color="rgb(255,255,255)" stop-opacity="0.30000001192092896"></stop><stop offset="50%" stop-color="rgb(255,255,255)" stop-opacity="0.5"></stop><stop offset="100%" stop-color="rgb(255,255,255)" stop-opacity="0.699999988079071"></stop></linearGradient><linearGradient id="__lottie_element_356" spreadMethod="pad" gradientUnits="userSpaceOnUse" x1="-24.5" y1="3" x2="39.013999938964844" y2="3.7880001068115234"><stop offset="0%" stop-color="rgb(255,255,255)" stop-opacity="0.30000001192092896"></stop><stop offset="50%" stop-color="rgb(255,255,255)" stop-opacity="0.5"></stop><stop offset="100%" stop-color="rgb(255,255,255)" stop-opacity="0.699999988079071"></stop></linearGradient><linearGradient id="__lottie_element_360" spreadMethod="pad" gradientUnits="userSpaceOnUse" x1="-3" y1="-44.5" x2="38.013999938964844" y2="-44.71200180053711"><stop offset="0%" stop-color="rgb(255,255,255)" stop-opacity="0.30000001192092896"></stop><stop offset="50%" stop-color="rgb(255,255,255)" stop-opacity="0.5"></stop><stop offset="100%" stop-color="rgb(255,255,255)" stop-opacity="0.699999988079071"></stop></linearGradient><linearGradient id="__lottie_element_364" spreadMethod="pad" gradientUnits="userSpaceOnUse" x1="-11" y1="3" x2="11.513999938964844" y2="-1.7120000123977661"><stop offset="0%" stop-color="rgb(255,255,255)" stop-opacity="0.30000001192092896"></stop><stop offset="50%" stop-color="rgb(255,255,255)" stop-opacity="0.5"></stop><stop offset="100%" stop-color="rgb(255,255,255)" stop-opacity="0.699999988079071"></stop></linearGradient></defs><g clip-path="url(#__lottie_element_322)"><g transform="matrix(1,0,0,1,66,82.5)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,0,0)"><path fill="url(#__lottie_element_326)" fill-opacity="1" d=" M78.49800109863281,72.66699981689453 C78.49800109863281,72.66699981689453 -78.49800109863281,72.66699981689453 -78.49800109863281,72.66699981689453 C-78.89900207519531,72.66699981689453 -79.16600036621094,72.4000015258789 -79.16600036621094,72 C-79.16600036621094,71.5999984741211 -78.89900207519531,71.33300018310547 -78.49800109863281,71.33300018310547 C-78.49800109863281,71.33300018310547 78.49800109863281,71.33300018310547 78.49800109863281,71.33300018310547 C78.89900207519531,71.33300018310547 79.16600036621094,71.5999984741211 79.16600036621094,72 C79.16600036621094,72.4000015258789 78.89900207519531,72.66699981689453 78.49800109863281,72.66699981689453z"></path></g></g><g transform="matrix(1,0,0,1,66,82.5)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,0,0)"><path fill="url(#__lottie_element_331)" fill-opacity="1" d=" M15.031999588012695,70.33300018310547 C15.031999588012695,70.33300018310547 -61.79600143432617,70.33300018310547 -61.79600143432617,70.33300018310547 C-61.79600143432617,70.33300018310547 -61.79600143432617,60.33300018310547 -61.79600143432617,60.33300018310547 C-61.79600143432617,56.66600036621094 -58.790000915527344,53.66699981689453 -55.11600112915039,53.66699981689453 C-55.11600112915039,53.66699981689453 8.35099983215332,53.66699981689453 8.35099983215332,53.66699981689453 C12.024999618530273,53.66699981689453 15.031999588012695,56.66600036621094 15.031999588012695,60.33300018310547 C15.031999588012695,60.33300018310547 15.031999588012695,70.33300018310547 15.031999588012695,70.33300018310547z"></path></g></g><g transform="matrix(1,0,0,1,66,82.5)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,0,0)"><path fill="url(#__lottie_element_335)" fill-opacity="1" d=" M-53.178001403808594,43.93299865722656 C-47.03200149536133,33.79999923706055 -30.062999725341797,13.666999816894531 -30.062999725341797,-26.33300018310547 C-30.062999725341797,-26.33300018310547 -16.70199966430664,-26.33300018310547 -16.70199966430664,-26.33300018310547 C-16.70199966430664,13.666999816894531 0.2669999897480011,33.733001708984375 6.413000106811523,43.93299865722656 C7.682000160217285,46 8.35099983215332,48.400001525878906 8.35099983215332,50.867000579833984 C8.35099983215332,50.867000579833984 8.35099983215332,53.66699981689453 8.35099983215332,53.66699981689453 C8.35099983215332,53.66699981689453 -55.11600112915039,53.66699981689453 -55.11600112915039,53.66699981689453 C-55.11600112915039,53.66699981689453 -55.11600112915039,50.867000579833984 -55.11600112915039,50.867000579833984 C-55.11600112915039,48.400001525878906 -54.446998596191406,46 -53.178001403808594,43.93299865722656z"></path></g></g><g transform="matrix(1,0,0,1,66,82.5)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,-22.881999969482422,-29.16699981689453)"><path fill="url(#__lottie_element_339)" fill-opacity="1" d=" M0,-13.333000183105469 C7.373935699462891,-13.333000183105469 13.361000061035156,-7.358482837677002 13.361000061035156,0 C13.361000061035156,7.358482837677002 7.373935699462891,13.333000183105469 0,13.333000183105469 C-7.373935699462891,13.333000183105469 -13.361000061035156,7.358482837677002 -13.361000061035156,0 C-13.361000061035156,-7.358482837677002 -7.373935699462891,-13.333000183105469 0,-13.333000183105469z"></path></g></g><g transform="matrix(1,0,0,1,66,82.5)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,0,0)"><path fill="url(#__lottie_element_343)" fill-opacity="1" d=" M-10.020999908447266,-0.6669999957084656 C-10.020999908447266,-0.6669999957084656 -36.74399948120117,-0.6669999957084656 -36.74399948120117,-0.6669999957084656 C-37.14500045776367,-0.6669999957084656 -37.4119987487793,-0.9330000281333923 -37.4119987487793,-1.3329999446868896 C-37.4119987487793,-1.7330000400543213 -37.14500045776367,-2 -36.74399948120117,-2 C-36.74399948120117,-2 -10.020999908447266,-2 -10.020999908447266,-2 C-9.619999885559082,-2 -9.352999687194824,-1.7330000400543213 -9.352999687194824,-1.3329999446868896 C-9.352999687194824,-0.9330000281333923 -9.619999885559082,-0.6669999957084656 -10.020999908447266,-0.6669999957084656z"></path></g></g><g transform="matrix(1,0,0,1,66,82.5)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,0,0)"><path fill="url(#__lottie_element_348)" fill-opacity="1" d=" M61.79600143432617,70.33300018310547 C61.79600143432617,70.33300018310547 -28.39299964904785,70.33300018310547 -28.39299964904785,70.33300018310547 C-28.39299964904785,70.33300018310547 -28.39299964904785,60.33300018310547 -28.39299964904785,60.33300018310547 C-28.39299964904785,56.66600036621094 -25.38599967956543,53.66699981689453 -21.711999893188477,53.66699981689453 C-21.711999893188477,53.66699981689453 55.11600112915039,53.66699981689453 55.11600112915039,53.66699981689453 C58.790000915527344,53.66699981689453 61.79600143432617,56.66600036621094 61.79600143432617,60.33300018310547 C61.79600143432617,60.33300018310547 61.79600143432617,70.33300018310547 61.79600143432617,70.33300018310547z"></path></g></g><g transform="matrix(1,0,0,1,66,82.5009994506836)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,0,0)"><path fill="url(#__lottie_element_352)" fill-opacity="1" d=" M38.41400146484375,-53 C38.41400146484375,-53 -5.010000228881836,-53 -5.010000228881836,-53 C-5.010000228881836,-53 -5.010000228881836,-63 -5.010000228881836,-63 C-5.010000228881836,-64.86699676513672 -3.5409998893737793,-66.33300018310547 -1.6699999570846558,-66.33300018310547 C-1.6699999570846558,-66.33300018310547 35.07400131225586,-66.33300018310547 35.07400131225586,-66.33300018310547 C36.94499969482422,-66.33300018310547 38.41400146484375,-64.86699676513672 38.41400146484375,-63 C38.41400146484375,-63 38.41400146484375,-53 38.41400146484375,-53z"></path></g></g><g transform="matrix(1,0,0,1,66,82.5)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,0,0)"><path fill="url(#__lottie_element_356)" fill-opacity="1" d=" M55.11600112915039,53.66699981689453 C55.11600112915039,53.66699981689453 -21.711999893188477,53.66699981689453 -21.711999893188477,53.66699981689453 C-21.711999893188477,53.66699981689453 -21.711999893188477,47.33300018310547 -21.711999893188477,47.33300018310547 C-21.711999893188477,45 -21.111000061035156,42.733001708984375 -19.975000381469727,40.733001708984375 C-14.029000282287598,30.399999618530273 5.010000228881836,-6.066999912261963 5.010000228881836,-49.66699981689453 C5.010000228881836,-49.66699981689453 5.010000228881836,-66.33300018310547 5.010000228881836,-66.33300018310547 C5.010000228881836,-66.33300018310547 28.39299964904785,-66.33300018310547 28.39299964904785,-66.33300018310547 C28.39299964904785,-66.33300018310547 28.39299964904785,-49.66699981689453 28.39299964904785,-49.66699981689453 C28.39299964904785,-6.133999824523926 47.36600112915039,30.33300018310547 53.37900161743164,40.733001708984375 C54.51499938964844,42.733001708984375 55.11600112915039,45 55.11600112915039,47.33300018310547 C55.11600112915039,47.33300018310547 55.11600112915039,53.66699981689453 55.11600112915039,53.66699981689453z"></path></g></g><g transform="matrix(1,0,0,1,66,82.5009994506836)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,0,0)"><path fill="url(#__lottie_element_360)" fill-opacity="1" d=" M36.74399948120117,-44 C36.74399948120117,-44 -3.3399999141693115,-44 -3.3399999141693115,-44 C-3.740999937057495,-44 -4.007999897003174,-44.266998291015625 -4.007999897003174,-44.66699981689453 C-4.007999897003174,-45.06700134277344 -3.740999937057495,-45.33300018310547 -3.3399999141693115,-45.33300018310547 C-3.3399999141693115,-45.33300018310547 36.74399948120117,-45.33300018310547 36.74399948120117,-45.33300018310547 C37.14500045776367,-45.33300018310547 37.4119987487793,-45.06700134277344 37.4119987487793,-44.66699981689453 C37.4119987487793,-44.266998291015625 37.14500045776367,-44 36.74399948120117,-44z"></path></g></g><g transform="matrix(1,0,0,1,66,82.5)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,17.20199966430664,-69.16600036621094)"><path fill="url(#__lottie_element_364)" fill-opacity="1" d=" M11.690999984741211,-3.3334999084472656 C11.690999984741211,-3.3334999084472656 11.690999984741211,3.3334999084472656 11.690999984741211,3.3334999084472656 C11.690999984741211,3.3334999084472656 -11.690999984741211,3.3334999084472656 -11.690999984741211,3.3334999084472656 C-11.690999984741211,3.3334999084472656 -11.690999984741211,-3.3334999084472656 -11.690999984741211,-3.3334999084472656 C-11.690999984741211,-3.3334999084472656 11.690999984741211,-3.3334999084472656 11.690999984741211,-3.3334999084472656z"></path></g></g></g></svg></div>
        
      </div><!----></lottie-player>
              </div>
                <div class="tariff_title">INVESTMENT<br><span>PLAN</span></div>
              </div>
              <div class="tariff_padd">
                <div class="fs-16 fw-500">Investment Amount <span class="fw-900">$50</span><br></div>
                <div class="tariffhr"></div>
                <div class="tariff_flex">
                  <div>
                    <div class="fs-14 fw-500 ttu">DAILY  <br>ROI </div>
                    <div class="fs-24"><b>1%</b></div>
                  </div>
                  <div>
                    <div class="fs-14 fw-500 ttu">EQUITALS <br>AIRDROP</div>
                    <div class="fs-24"><b>0.001 PER MINUTE</b></div>
                  </div>
                </div>
                <div class="tariffhr"></div>
                <div class="fs-14 fw-500 ttu tac">Withdrawal will be on </div>
                <div class="fs-36 tac mb-20"><b>Thursday</b></div>

                <router-link  to="/add-fund-middle" tag="a" class="btn btn_white select_plan">Choose</router-link>
                <!-- <a href="" data-plan="2" data-min="1000" class="btn btn_white select_plan">Choose</a> -->
              </div>
            </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal loadrr fade" id="loader" tabindex="-1" role="dialog" aria-labelledby="customModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class=" text-center">
          <div class=" ">
            <div class="spinner-grow text-primary" role="status"> <span class="sr-only">Loading...</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Perfect Money Code(Shreemant Mirkute) -->
    <form class="hidden" id="payment" action="https://perfectmoney.is/api/step1.asp" method="POST">
      <p>
        <!-- as specified in PAYEE_ACCOUNT -->
        <input type="hidden" name="PAYEE_ACCOUNT" v-model="perfectmoney.PAYEE_ACCOUNT">
        <!-- merchantâ€™s name as specified in PAYEE_NAME -->
        <input type="hidden" name="PAYEE_NAME" v-model="perfectmoney.PAYEE_NAME">
        <!-- as specified in PAYMENT_UNITS -->
        <input type="hidden" name="PAYMENT_UNITS" v-model="perfectmoney.PAYMENT_UNITS">
        <input type="hidden" name="STATUS_URL" v-model="perfectmoney.STATUS_URL">
        <input type="hidden" name="PAYMENT_URL" v-model="perfectmoney.PAYMENT_URL">
        <input type="hidden" name="NOPAYMENT_URL" v-model="perfectmoney.NOPAYMENT_URL">
        <!-- <input type="hidden" name="PAYMENT_ID" v-model="user_id" placeholder="ID"> -->
        <!-- as specified in PAYMENT_AMOUNT -->
        <input type="hidden" name="PAYMENT_AMOUNT" id="PAYMENT_AMOUNT" placeholder="Amount">
        <!-- <input type="submit" name="PAYMENT_METHOD" value="Payment method"> -->
      </p>
    </form>
    <!-- End of the code for perfect money -->
    <!-- Start Popup code -->
    <div id="demo-default-modal" role="dialog" tabindex="-1" aria-hidden="true" class="modal fade in">
      <div class="modal-dialog text-center">
        <div class="modal-content text-center">
          <div class="modal-header bg-primary">
            <h3 class="modal-title text-white">Deposit</h3>
          </div>
          <div class="modal-body">
            <div v-if="changemodal==0">
              <h4 class="m-b-10">Amount ${{getpackagedetails.price_in_usd}}</h4>
              <!-- <p class="text-semibold text-main">Please Deposit to complete your topup.</p> -->
              <div class="row m-b-10">
                <div class="col-md-5 text-right text-xs-center white-txt">Amount:</div>
                <div class="col-md-4 text-xs-center">
                  <div class="input-group mar-btm mar-btm-0-xs"><span class="input-group-addon"><i class="fa fa-usd"></i></span>
                    <input type="text" class="form-control" v-model="getpackagedetails.price_in_usd" readonly="">
                  </div>
                </div>
                <div class="col-md-3 text-left text-xs-center"><small>( {{ getpackagedetails.price_in_currency }} BTC )</small>
                </div>
              </div>
              <div class="row">
                <div class="col-md-5 text-right text-xs-center white-txt">Paid Amount:</div>
                <div class="col-md-4">
                  <div class="input-group mar-btm mar-btm-0-xs"><span class="input-group-addon"><i class="fa fa-usd"></i></span> 
                    <input type="text" class="form-control" v-model="getpackagedetails.received_amount">
                  </div>
                </div>
                <div class="col-md-3 text-left text-xs-center white-txt">BTC</div>
              </div>
              <div class="row m-b-10">
                <div class="col-md-5 text-right text-xs-center white-txt">Remaining Amount:</div>
                <div class="col-md-4 text-xs-center">
                  <div class="input-group mar-btm mar-btm-0-xs"><span class="input-group-addon"><i class="fa fa-usd"></i></span> 
                    <input type="text" class="form-control" v-model="getpackagedetails.rem_amount" readonly="">
                  </div>
                </div>
                <div class="col-md-3 text-left text-xs-center white-txt">BTC</div>
              </div>
              <div class="row">
                <div class="col-md-4 offset-md-4 text-center">
                  <div class="qr-bg">
                    <!-- <img src="user_files/images/qr_code.png" width="100%" /> -->
                    <qrcode v-bind:value="this.qrcodevalue"></qrcode>
                  </div>
                </div>
                <div class="col-md-12 text-center">
                  <div class="input-group mar-btm">
                    <input type="text" v-model="getpackagedetails.address" id="btc-add" class="form-control"> <span class="input-group-btn tooltip2">
                              <button class="btn btn-info btn-labeled" type="button" onclick="myFunction1()" onmouseout="outFunc1()"> <i class="fa fa-file" aria-hidden="true"></i>   <span class="tooltiptext" id="refcopy1"></span>
                    Copy</button>
                    </span>
                  </div>
                </div>
                <div class="col-md-12 text-center">
                  <div class="only-msg">
                    <p class="pendingDeposit text-center"></p>
                    <div class="counter text-center"> <span> Confirming... {{secondCount}}  </span>
                    </div>
                    <div class="row ">
                      <p class="qrclass text-center"></p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="addfundb2" v-if="changemodal==1">
              <img src="public/user_files/images/check.png" width="200px" />
              <h2 class="pay_confm">Payment Confirmed</h2>
              <div class="confmbtn_o">
                <button type="button" @click="closeModal1" class="btn btn-outline-warning sm">Deposit Again</button>
                <!-- <router-link class="btn btn-outline-primary sm" :to="{ name: 'add-fund-report'}">
                        See History
                </router-link> -->
                <button type="button" @click="showreport1" class="btn btn-outline-primary sm">See History</button>
              </div>
            </div>
            <!-- <div v-if="changemodal==1">
            <h2>Success</h2>
          </div> --></div>
          <div class="modal-footer">
            <button data-dismiss="modal" type="button" @click="closeModal()" class="btn btn-primary">Close</button>
          </div>
        </div>
      </div>
    </div>
    <!-- Username and password popup start -->
    <!--Trigger-->
    <!-- <a class="login-trigger" href="#" data-target="#login" data-toggle="modal">Login</a> -->
    <!-- Shreemant pop up code -->
    <!-- <div id="login" class="modal fade" role="dialog">
  <div class="modal-dialog">
    
    <div class="modal-content">
      <div class="modal-body">
        <button data-dismiss="modal" class="close">&times;</button>
        <h4>Enter Perfect Money Details</h4>
        <form>
          <input type="text" v-model="username" name="username" class="username form-control" placeholder="Username"/>
          <input type="password" v-model="password" name="password" class="password form-control" placeholder="password"/>
          <input hidden="" type="text" v-model="amt" name="amount" class="password form-control" placeholder="amount"/>
          <button data-dismiss="modal" @click="doPayment" type="button" class="btn btn-primary">Login</button>

        </form>
      </div>
    </div>
  </div>  
</div> -->
    <!-- End of the code for popup end -->
    <!-- Priyanka Pop static -->
    <div id="login" class="modal fade" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-body">
            <div>
              <h4 class="m-b-30 text-center"> <img src="public/user_files/assets/img/logo3.png"></h4>
              <!-- <p class="text-semibold text-main">Please Deposit to complete your topup.</p> -->
              <!--     <div class="row m-b-10">
      <div class="col-md-4 text-right text-xs-center white-txt">Payment to:</div>
      <div class="col-md-8 text-left text-xs-center"><small>U22384420 (My company)</small>
      </div>
    </div>
    <div class="row m-b-10">
      <div class="col-md-4 text-right text-xs-center white-txt">Account type:</div>
      <div class="col-md-8 text-left text-xs-center white-txt"><span class="text-green">Verified</span>, 8.3 Trust Score point(s)</div>
    </div> 
    <div class="row m-b-10">
      <div class="col-md-4 text-right text-xs-center white-txt">Credit rating:</div>
      <div class="col-md-8 text-left text-xs-center white-txt">Normal, no overdue loans.</div>
    </div> 
    <div class="row m-b-10">
      <div class="col-md-4 text-right text-xs-center white-txt">Amount: </div>       
      <div class="col-md-8 text-left text-xs-center white-txt">1 USD</div>
    </div> 
    <div class="row m-b-10">
      <div class="col-md-4 text-right text-xs-center white-txt">Memo:</div>
      <div class="col-md-5 text-xs-center">
        <div class="input-group mar-btm mar-btm-0-xs"> 
          <input type="text" class="form-control" readonly="">
        </div>
      </div>
      <div class="col-md-3 text-left text-xs-center white-txt">ref. # test</div>
    </div>
<hr> -->
              <h3 class="text-center m-b-10"> Authorize Payment  </h3>
              <div class="row m-b-10">
                <div class="col-md-4 text-right text-xs-center white-txt">Member ID:</div>
                <div class="col-md-8 text-xs-center">
                  <div class="input-group mar-btm mar-btm-0-xs">
                    <input type="text" v-model="username" name="username" class="username form-control" placeholder="Member ID" />
                  </div>
                </div>
              </div>
              <div class="row m-b-10">
                <div class="col-md-4 text-right text-xs-center white-txt">Password:</div>
                <div class="col-md-8 text-xs-center">
                  <div class="input-group mar-btm mar-btm-0-xs">
                    <input type="password" v-model="password" name="password" class="password form-control" placeholder="Password" />
                  </div>
                </div>
              </div>
              <br>
              <div class="row">
                <div class="col-md-12 text-center">
                  <button class="btn btn-success btn-labeled" type="button" @click="doPayment"> <i class="fa fa-money" aria-hidden="true"></i>  <span class="tooltiptext" id="refcopy1"></span> Login</button>
                  <!-- <button data-dismiss="modal" @click="doPayment" type="button" class="btn btn-primary">Login</button> -->
                  <button class="btn btn-danger btn-labeled" data-dismiss="modal" type="button" @click="closeModal()"> <i class="fa fa-remove" aria-hidden="true"></i>  <span class="tooltiptext" id="refcopy1"></span> Cancel Payment</button>
                </div>
                <br>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- end of the cdoe -->
    <!-- End Popup Code -->
  </div>
</template>
<script>
  import Vue from 'vue'; 
        import moment from 'moment';
        import { apiUserHost } from'../../user-config/config';
        import Breadcrum from './BreadcrumComponent.vue';
        import QrcodeVue from 'qrcode.vue';
        import VueQrcode from '@xkeshi/vue-qrcode';
        Vue.component(VueQrcode.name, VueQrcode);
    
        export default {  
          components: {
            Breadcrum,
            QrcodeVue
          }, 
          data(){
             return {
               secondCount:30,
               username:'',
               password:'',
               amt:'',
                status:0,
                typeChange:'BTC',
                btc: '',
                currency_code: {},
                amount: [],
                product_id: '',
                perfectmoney: {
                },
                getpackages: {
                      id: '',
                      roi: '',
                      duration: '',
                      name: '',
                      cost: '',
                },
                getpackagedetails: {
                   price_in_usd: '',
                   received_amount: '',
                   price_in_currency: '',
                   address: '',
                   rem_amount:0,
                },
                size:'',
                qrcodevalue:'',
                INR:'',
                selectedCurrency:'',
                countryCode:'',
                user_id:'',
                        fullname:'',
                        
                        disablebtn:false,
                        isActiveBtn: false,
                        balance:{},
                        payment_mode:'Bank',
                        trn_ref_no:'',
                        holder_name:'',
                        bank_name:'',
                        deposit_date:'',
                        fundamount:'',
                        fundAmountDisplay:'',
                        type:'',
                        changemodal:0,
             }
          },
          computed: {
             isCompleteMakeDeposite () {
                 return this.btc;      
             },
               isComplete () {
                        return this.amount, this.payment_mode, this.trn_ref_no;
                    }
          },
    
          mounted(){
             this.getPackages();
             this.getAllCurrency();
             this.getPerfectMoneyCred();
              //$('#demo-default-modal').modal('show');
          },
          methods:{
         minmax(getpackage,value, min, max)     {
       /*   if(this.type == "INR")
          {
            min = min * this.INR;
            max = max * this.INR;
          }
    */
            if(parseInt(value) < min)
            {
              this.isActiveBtn = false;
             // this.amount[getpackage] = min;
              this.$toaster.error("Amount must be minimum " + min);
              $('#makedeposite'+getpackage).attr('disabled','disabled');
            }else if(parseInt(value) > max){
              this.isActiveBtn = false;
              //this.amount[getpackage] = max;
              this.$toaster.error("Amount must be maximum " + max);
              $('#makedeposite'+getpackage).attr('disabled','disabled');
            }else{
              //this.isActiveBtn = true;
              if(this.status == getpackage)
              {
               $('#makedeposite'+getpackage).removeAttr("disabled");
              }
            }
        },
             getPackages(){
                axios.get('get-packages1', {
                })
                .then(response => {
                    this.getpackages = response.data.data;
    
                    this.INR = response.data.data[0]['convert'];
                    this.type = response.data.data[0]['type'];
                    this.countryCode = response.data.data[0]['countryCode'];
                    for(let x in this.getpackages){
                        this.amount[this.getpackages[x].id] = '';
                    }
                })
                .catch(error => {
                });        
             },
  
              getPerfectMoneyCred() {
                axios
                  .get("get-perfect-cred", {})
                  .then(response => {
                    this.perfectmoney = response.data.data;
                  })
                  .catch(error => {});
              },
    
             getAllCurrency(){ 
                axios.get('getall-currency', {
                })
                .then(response => {
                   this.currency_code = response.data.data;
                })
                .catch(error => {
                });        
             },
    
             radioButtonChecked(id,name,value,min,max){
              this.selectedCurrency = name;
              this.status = id;
              
                 $('.pay').attr('disabled','disabled');
           if(parseInt(value) < min)
            {
              $('#makedeposite'+id).attr('disabled','disabled');
            }else if(parseInt(value) > max){
              $('#makedeposite'+id).attr('disabled','disabled');
            }else{
               $('#makedeposite'+id).removeAttr("disabled");
            }
    
             },
    
             fundRequest() {
                      
                       this.disablebtn = true;
                       let formData = new FormData();
                       if(this.$refs.file.files[0] != ''){
                         formData.append('file', this.$refs.file.files[0]);
                       }
                       formData.append('amount', this.fundamount);
                        formData.append('INR', this.INR);
                       formData.append('payment_mode', this.payment_mode);
                       formData.append('trn_ref_no', this.trn_ref_no);
                       formData.append('holder_name', this.holder_name);
                       formData.append('bank_name', this.bank_name);
                       formData.append('product_id', this.product_id);
                       formData.append('deposit_date', this.deposit_date);
                       
                       axios.post('fund-request',
                        formData,{
                          headers: {
                            'Content-Type': 'multipart/form-data'
                          }
                        }
                        ).then(response=>{
                         if(response.data.code==200){
                           $('#INR-payment').modal('toggle');
                          this.$toaster.success(response.data.message)
                          
                          this.disablebtn = false;
                          this.$router.push({name:'fund-request-report'});
                          
                        }else{
                          this.$toaster.error(response.data.message)
                          this.disablebtn = false;
                        }
                      }).catch(error=>{
                       this.disablebtn = false;
                     })
                    },
                    
    
             purchasePackage1(product_id, currency_code,hash_unit){
              alert(hash_unit);
              $(".overlay").show();
              $(".loader").show();
              if(currency_code != 'BTC')
              {
                $('#login').modal('show');
  
                 //this.doPayment(hash_unit);
                 this.amt = hash_unit;
                /* axios.post('sendWAMessage', {
                   INR: this.INR,
                   amount: hash_unit,
                })
                this.fundamount = hash_unit;
                this.fundAmountDisplay = hash_unit * this.INR;
                this.product_id = product_id;
                $("#INR-payment").modal("show");*/
              }
              else
              {
                
                axios.post('getaddress', {
                   product_id: product_id,
                   currency_code: this.typeChange,
                   hash_unit: hash_unit,
                })
                .then(resp => {
                  if(resp.data.code === 200){
                    this.getpackagedetails = resp.data.data;
                    this.getpackagedetails.rem_amount = this.getpackagedetails.price_in_currency;
                    //this.qrcodevalue = this.getpackagedetails.address;
                    this.qrcodevalue = "bitcoin:"+this.getpackagedetails.address+"?amount="+this.getpackagedetails.rem_amount;
    
    
                     this.getOneMinInterval();
                     this.changemodal = 0;
                    $('#demo-default-modal').modal();
                  } else {
                    this.$toaster.error(resp.data.message);
                  }
                })
                .catch(error => {
                });
              }
                        
             },
  
          purchasePackagecoin(product_id, currency_code,hash_unit){
            
            $(".loadrr").modal();
            //$(".loader").show();
            /*if(currency_code != 'BTC')
            {
               axios.post('sendWAMessage', {
                 INR: this.INR,
                 amount: hash_unit,
              })
              this.fundamount = hash_unit;
              this.fundAmountDisplay = hash_unit * this.INR;
              this.product_id = product_id;
              $("#INR-payment").modal("show");
            }
            else
            {*/
             // alert(currency_code);
               $(".overlay").show();
              $(".loader").show();
              if(currency_code == 'PM')
              {
                $('#login').modal();
  
                 //this.doPayment(hash_unit);
                 this.amt = hash_unit;
                /* axios.post('sendWAMessage', {
                   INR: this.INR,
                   amount: hash_unit,
                })
                this.fundamount = hash_unit;
                this.fundAmountDisplay = hash_unit * this.INR;
                this.product_id = product_id;
                $("#INR-payment").modal("show");*/
              }
              else
              {
              
              axios.post('purchase-package', {
                 product_id: product_id,
                 currency_code: currency_code,
                 hash_unit: hash_unit,
              })
              .then(resp => {
                if(resp.data.code === 200){
                  this.getpackagedetails = resp.data.data;
                  this.qrcodevalue = this.getpackagedetails.address;
                  var txn = resp.data.data.txn_details;
                  $('#loader').modal().hide();
                  $('#loader').modal('hide');
                  location.replace(this.getpackagedetails.status_url);
                  /*if (this.getpackagedetails.exists == 0) {
                    location.replace(this.getpackagedetails.status_url);
                  }else{
                    this.$toaster.success("Already requested for same amount");              
                  }*/
                  //$('#demo-default-modal').modal();
                } else {
                  this.$toaster.error(resp.data.message);
                }
              })
              .catch(error => {
              });
            }
                      
           },
  
            closeModal(){
              $(".loadrr").hide();
              $(".loader").hide();
              $("#loader").css('display','none')
           },
  
            doPayment(amount) {
            //// $('#PAYMENT_AMOUNT').val(amount);
            //// $('#payment').submit();
  
             axios.post('getperfect-money', {
               amount: this.amt,
               username: this.username,
               password: this.password
                })
                .then(response => {
                if(response.data.code === 200){
                  this.changemodal = 1;
                  this.$toaster.success(response.data.message);
                     $('#login').modal('hide');
                    $('#demo-default-modal').modal();
                    // this.$router.push({name:'add-fund-perfectmoney-report'});
                  // $('#login').modal();
                }else{
  
                  this.$toaster.error(response.data.message);
                }
                   //this.currency_code = response.data.data;
                })
                .catch(error => {
                });
              
            },
             getOneMinInterval() {
    
               clearInterval(this.OneMinTime);
               this.secondCount = 3;
                this.OneMinTime = setInterval(() => {
                 this.secondCount = this.secondCount - 1;
                if (this.secondCount < 10 && this.secondCount >= 0) {
                    this.secondCount = `0${this.secondCount}`;
                  } else if (this.secondCount < 0) {
                      this.secondCount = 30;
                    axios.post('fetchAddressBalance', {
                    address: this.getpackagedetails.address,
                     invoice_id: this.getpackagedetails.invoice_id.invoice_id
                })
                .then(response => {
                       if(response.data.code == 200){
                              // alert(response.data.data);
                               var messageData = response.data.message;
                               
                                if(response.data.data.status == 1)
                                {
                                  //clearInterval(this.OneMinTime); 
                                   $('.counter').addClass('text-success');
                                  $(".counter").show();
                                   $(".qrclass").html('');
                                    $(".pendingDeposit").html('');
                                  $(".pendingDeposit").html(messageData);
                                  this.confirmDeposit(this.getpackagedetails.invoice_id.invoice_id); 
                                }else if(response.data.data.status == 2){
                                   //  clearInterval(this.OneMinTime); 
                                    $('.counter').addClass('text-danger');
                                    $(".counter").show();
                                     $(".qrclass").html('');
                                      $(".pendingDeposit").html('');
                                  $(".pendingDeposit").html(messageData);
  
                                      
                                }
  
                                 this.getpackagedetails.received_amount = response.data.data.rec;
                                 if((this.getpackagedetails.price_in_currency - this.getpackagedetails.received_amount) > 0){
                                      this.getpackagedetails.rem_amount = this.getpackagedetails.price_in_currency - this.getpackagedetails.received_amount;
                                 }else{
                                      this.getpackagedetails.rem_amount = 0;
                                 }
                                  
  
  
  
                                
                            } else {
                               this.$toaster.error(response.data.message);
                               this.disablebtn = false;   
                            }
                    
                    
                })
                
            //this.postServiceCall(params, 'fetchAddressBalance');
              this.secondCount = 30;
            } else {
          }
        } ,1000);
      },
             closeModal(){
                $(".overlay").hide();
                $(".loader").hide();
             },
             closeModal1(){
                 $('#demo-default-modal').modal('hide');
             },
             showreport(){
                 $('#demo-default-modal').modal('hide');
                this.$router.push({name:'add-fund-report'});
             },
             showreport1(){
                 $('#demo-default-modal').modal('hide');
                this.$router.push({name:'add-fund-perfectmoney-report'});
  
             },
      //         confirmDeposit(invoice_id) {
    
      //          clearInterval(this.OneMinTime);
      //          this.secondCount = 3;
      //           this.OneMinTime = setInterval(() => {
      //            this.secondCount = this.secondCount - 1;
      //           if (this.secondCount < 10 && this.secondCount >= 0) {
      //               this.secondCount = `0${this.secondCount}`;
      //             } else if (this.secondCount < 0) {
      //                 this.secondCount = 30;
      //               axios.post('confirm-deposit', {
      //                invoice_id:invoice_id
      //           })
      //           .then(response => {
      //                  if(response.data.code == 200){
      //                         this.changemodal = 1;
      //                         clearInterval(this.OneMinTime); 
      //                         $('.counter').addClass('text-success');
      //                         $(".counter").hide();
      //                       } else {
      //                          this.changemodal = 0;
      //                       }
                    
                    
      //           })
                
      //       //this.postServiceCall(params, 'fetchAddressBalance');
      //         this.secondCount = 30;
      //       } else {
      //     }
      //   }, 1000);
      // },
  
             confirmDeposit(invoice_id){
              //alert();
              axios.post('confirm-deposit',{
                  invoice_id:invoice_id
              }).then(resp => {
                  if(resp.data.data.ret == 1){
  
                      this.changemodal = 1;
                      clearInterval(this.OneMinTime); 
                      $('.counter').addClass('text-success');
                      $(".counter").hide();
                  } else {
                      this.changemodal = 0;
                  }
                })
                .catch(error => {
                });
             }
          }
       }
</script>